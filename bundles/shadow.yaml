# Shadow Environment Bundle
# Provides generic shadow environment capabilities for testing local git changes
name: shadow
version: "0.2.0"
description: |
  Shadow environments for safely testing local git changes in isolation.
  Snapshots your local working directories and serves them as git dependencies
  via URL rewriting, while other repos fetch from real GitHub.
  
  Works with ANY project (Python, Node, Rust, Go, etc.) - not tied to any specific ecosystem.

# No bundle-level tools - shadow tool only available to shadow agents via lazy activation
# This demonstrates tool separation: root sessions don't need shadow tool,
# only the shadow-operator agent does.

# Agents provided by this bundle
agents:
  shadow-operator:
    description: |
      Agent specialized in managing shadow environments for testing.
      Use this agent when you need to test local git changes in an isolated 
      container environment before pushing them.
      
      Supports ANY project type:
      - Python packages (uv, pip)
      - Node.js packages (npm, yarn)
      - Rust crates (cargo)
      - Go modules
      - Any git-based dependency
    instructions: shadow:agents/shadow-operator.md
    tools:
      - module: tool-shadow
        source: git+https://github.com/microsoft/amplifier-bundle-shadow@main#subdirectory=modules/tool-shadow

# Context files
context:
  include:
    - shadow:context/shadow-instructions.md
