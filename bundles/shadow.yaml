# Shadow Environment Bundle
# Provides shadow environment capabilities for testing Amplifier changes
name: shadow
version: "0.1.0"
description: |
  Shadow environments for safely testing Amplifier ecosystem changes.
  Snapshots your local working directories and serves them as git dependencies
  via URL rewriting, while other repos fetch from real GitHub.

# Tools provided by this bundle
tools:
  - module: tool-shadow
    source: git+https://github.com/microsoft/amplifier-bundle-shadow@main#subdirectory=modules/tool-shadow

# Agents provided by this bundle
agents:
  shadow-operator:
    description: |
      Agent specialized in managing shadow environments for testing.
      Use this agent when you need to test local changes to Amplifier ecosystem
      packages in an isolated environment before deploying them.
    instructions: shadow:agents/shadow-operator.md

  shadow-smoke-test:
    description: |
      Independent validation agent for shadow environment smoke testing.
      Runs completely separate from the shadow-operator context to provide
      unbiased verification that local changes work correctly.
      
      Use AFTER shadow-operator creates an environment to validate:
      - Local sources are actually being used (not just configured)
      - Packages install and import correctly
      - Touched code paths execute successfully
      - Shadow isolation is intact
      
      Returns objective VERDICT: PASS/FAIL with evidence.
    instructions: shadow:agents/shadow-smoke-test.md

# Context files
context:
  include:
    - shadow:context/shadow-instructions.md
